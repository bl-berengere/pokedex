{% extends 'base.html.twig' %}

{% block header %}

    {{ parent() }}

    <input class="form-control" id="search" type="text" placeholder="Recherche un Pokémon" />

{% endblock %}

{% block body %}
    <div class="containerPokemons">
        <div id="no-results" style="display: none;">Pas de pokémons trouvés</div>
        {% for pokemon in pokemons %}
            <div class="pokecard">
                {% if app.user %}
                    <div class="fav" data-id="{{ pokemon.id }}" onclick="toggleFavorite(this)">
                        <i class="fa-heart {{ pokemon in favoritePokemons ? 'fa-solid' : 'fa-regular' }}"></i>
                    </div>
                {% endif %}

                <a href="{{ path('pokemon_show', { id: pokemon.id }) }}">
                    <img src="{{ asset('/images/pokemon/' ~pokemon.image) }}" alt="{{ pokemon.name }}" width="150">
                    <div class="num">N°{{ '%03d'|format(pokemon.numero) }}</div>
                    <h4 class="card-title">{{ pokemon.name }}</h4>
                    <div class="types">
                        {% for type in pokemon.types %}
                            <span class="type" style="color:{{ type.color }}; background-color: {{ type.backgroundColor }};">
                                {{ type.name }}
                            </span>
                        {% endfor %}
                    </div>
                </a>
            </div>
        {% endfor %}
    </div>
{% endblock %}